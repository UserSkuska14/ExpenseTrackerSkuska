{% extends "base.html" %}

{% block title %}Register | Expense Tracker{% endblock %}

{% block content %}

<div class="max-w-md mx-auto bg-slate-900 border border-slate-800 rounded-2xl p-8 shadow-xl">
  
  <h1 class="text-3xl font-bold text-center mb-6">
    Create an Account
  </h1>

  <!-- Flash Messages -->
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class="mb-4 space-y-2">
        {% for msg in messages %}
          <div class="rounded-lg border border-rose-500/40 bg-rose-500/10 text-rose-300 px-4 py-2 text-sm">
            {{ msg }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <form method="POST" action="{{ url_for('register') }}" class="space-y-4">
    {{ form.csrf_token }}

    <label class="block text-sm">
      <span class="text-slate-300">Email</span>
      <input name="email" type="email"
             class="w-full mt-1 rounded-xl bg-slate-800 border border-slate-700 px-4 py-2 text-slate-100"
             required />
    </label>

    <label class="block text-sm">
      <span class="text-slate-300">Password</span>
      <input name="password" type="password"
             class="w-full mt-1 rounded-xl bg-slate-800 border border-slate-700 px-4 py-2 text-slate-100"
             required />
    </label>

    <label class="block text-sm">
      <span class="text-slate-300">Confirm Password</span>
      <input name="password1" type="password"
             class="w-full mt-1 rounded-xl bg-slate-800 border border-slate-700 px-4 py-2 text-slate-100"
             required />
    </label>

    <button type="submit"
            class="w-full mt-4 rounded-xl bg-brand/20 hover:bg-brand/30 text-brand border border-brand/30 py-2 font-semibold">
      Create Account
    </button>

    <p class="text-center text-slate-400 mt-4 text-sm">
      Already have an account?
      <a href="{{ url_for('login') }}" class="text-brand hover:underline">Login</a>
    </p>

  </form>

</div>

{% endblock %}
